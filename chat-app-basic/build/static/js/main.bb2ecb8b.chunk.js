(this["webpackJsonpchat-app-basic"]=this["webpackJsonpchat-app-basic"]||[]).push([[0],{292:function(e,n,t){},376:function(e,n,t){},496:function(e,n){},509:function(e,n,t){},510:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),o=t(45),r=t.n(o),c=t(207),l=t(46),d=(t(292),t(517)),s=t(518),u=t(13),x=t(8),p=t(11),j=t(531),b=t(532),h=t(533),m=t(534),v=t(535),f=t(536),g=t(537),O=t(538),w=t(521),y=t(284),A=t(522),S=t(525),N=t(94),F=t(529),R=t(83),C=t.n(R),L=t(268),U=t(154),k=t.n(U),z=t(12),I=t(4),D=t(125);t(299),t(300),t(301);D.a.initializeApp({apiKey:"AIzaSyBlm-W6GLaMQFC4PCEMMZ61AaNFmBh6DdY",authDomain:"chat-app-hihi.firebaseapp.com",projectId:"chat-app-hihi",storageBucket:"chat-app-hihi.appspot.com",messagingSenderId:"883987244279",appId:"1:883987244279:web:aaae422fdb9a61e9669ff2",measurementId:"G-L65WGMD5Y7"}),D.a.analytics();var M=D.a.auth(),V=D.a.firestore();t(302);var T=D.a,E=function(e,n){var t=Object(i.useState)([]),a=Object(x.a)(t,2),o=a[0],r=a[1];return Object(i.useEffect)((function(){var t=V.collection(e).orderBy("createAt");if("users"===e&&(t=V.collection(e).orderBy("status","asc")),n){if(!n.compareValue||!n.compareValue.length)return void r([]);t=t.where(n.fieldName,n.operator,n.compareValue)}var i=0;return t.onSnapshot((function(e){i=0;var n=e.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id,index:i++})}));r(n)}))}),[e,n]),o},B=t(514),_=t(2),G=a.a.createContext();var P=function(e){var n=e.children,t=Object(i.useState)({}),a=Object(x.a)(t,2),o=a[0],r=a[1],c=Object(i.useState)(!0),d=Object(x.a)(c,2),s=d[0],u=d[1],p=Object(l.f)();return Object(i.useEffect)((function(){var e=M.onAuthStateChanged((function(e){if(e){var n=e.displayName,t=e.email,i=e.uid,a=e.phoneNumber,o=e.photoURL,c=e.status,l=e.last_changed;return r({displayName:n,email:t,uid:i,phoneNumber:a,photoURL:o,status:c,last_changed:l}),u(!1),p.push("/"),void(document.title="Fake Messenger")}r({}),u(!1),p.push("/login"),document.title="Fake Messenger - \u0110\u0103ng nh\u1eadp"}));return function(){e()}}),[p]),Object(_.jsxs)(G.Provider,{value:{user:o,setUser:r},children:[s?Object(_.jsx)(B.a,{style:{fontSize:"20pt",position:"fixed",top:"50%",left:"50%"}}):n," "]})},K=a.a.createContext();var W,q,Z=function(e){var n=e.children,t=Object(i.useState)(!1),a=Object(x.a)(t,2),o=a[0],r=a[1],c=Object(i.useState)(!1),l=Object(x.a)(c,2),d=l[0],s=l[1],u=Object(i.useState)(""),p=Object(x.a)(u,2),j=p[0],b=p[1],h=Object(i.useState)(!1),m=Object(x.a)(h,2),v=m[0],f=m[1],g=Object(i.useState)(!1),O=Object(x.a)(g,2),w=O[0],y=O[1],A=Object(i.useState)(!0),S=Object(x.a)(A,2),N=S[0],F=S[1],R=Object(i.useState)(!1),C=Object(x.a)(R,2),L=C[0],U=C[1],k=Object(i.useContext)(G).user.uid,z=Object(i.useMemo)((function(){return{fieldName:"members",operator:"array-contains",compareValue:k}}),[k]),I=E("rooms",z),D=Object(i.useMemo)((function(){return Array.from(I).find((function(e){return e.id===j}))||{}}),[I,j]),M=Object(i.useMemo)((function(){return{fieldName:"uid",operator:"in",compareValue:D.members}}),[D.members]),V=E("users",M);return Object(_.jsxs)(K.Provider,{value:{rooms:I,isAddRoomVisible:o,setIsAddRoomVisible:r,selectedRoomId:j,setSelectedRoomId:b,selectedRoom:D,members:V,isInviteMemberVisible:v,setIsInviteMemberVisible:f,clearState:function(){b(""),r(!1),f(!1),setInterval((function(){window.location.reload()}),50)},isShowMembersVisible:d,setIsShowMembersVisible:s,isEditRoomVisible:w,setIsEditRoomVisible:y,isPopup:N,setIsPopup:F,isShowGif:L,setIsShowGif:U},children:[n," "]})},H=function(e,n){V.collection(e).add(Object(I.a)(Object(I.a)({},n),{},{createAt:T.firestore.FieldValue.serverTimestamp()}))},Y=function(e,n){V.collection(e).doc(n.uid).set(Object(I.a)(Object(I.a)({},n),{},{createAt:T.firestore.FieldValue.serverTimestamp()}))},X=function(e){for(var n=e.split(" ").filter((function(e){return e})),t=n.length,i=[],a=[],o=[],r=0;r<t;r++)i[r]=!1;!function e(r){for(var c=0;c<t;c++)i[c]||(i[c]=!0,a[r]=n[c],r===t-1&&o.push(a.join(" ")),e(r+1),i[c]=!1)}(0);var c=o.reduce((function(e,n){var t=function(e){var n=[],t="";return e.split("").forEach((function(e){t+=e,n.push(t)})),n}(n);return[].concat(Object(u.a)(e),Object(u.a)(t))}),[]);return c.push("*"),c},J=t(73),Q=t(519),$=t(528),ee=z.a.div(W||(W=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n\n  .img{\n    border-radius: 20px;\n    border: 1px solid #ddd;\n  }\n"]))),ne=z.a.div(q||(q=Object(p.a)(["\nmax-width: 800px;\n\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function te(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var ie,ae,oe=function(e){var n=e.url,t=e.createdAt;return Object(_.jsx)(ee,{children:Object(_.jsx)(ne,{children:Object(_.jsx)(J.a,{placement:"left",title:te(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)("img",{className:"img",src:n,alt:"GIF"})})})})},re=z.a.div(ie||(ie=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n\n  .img{\n    border-radius: 20px 10px 20px 20px;\n    border: 1px solid #ddd;\n  }\n"]))),ce=z.a.div(ae||(ae=Object(p.a)(["\nmax-width: 800px;\n\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function le(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var de,se,ue=function(e){var n=e.url,t=e.createdAt;return Object(_.jsx)(re,{children:Object(_.jsx)(ce,{children:Object(_.jsx)(J.a,{placement:"left",title:le(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)("img",{className:"img",src:n,alt:"GIF"})})})})},xe=z.a.div(de||(de=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n\n  .img{\n    border-radius: 20px 10px 10px 20px;\n    border: 1px solid #ddd;\n  }\n"]))),pe=z.a.div(se||(se=Object(p.a)(["\nmax-width: 800px;\n\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function je(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var be,he,me=function(e){var n=e.url,t=e.createdAt;return Object(_.jsx)(xe,{children:Object(_.jsx)(pe,{children:Object(_.jsx)(J.a,{placement:"left",title:je(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)("img",{className:"img",src:n,alt:"GIF"})})})})},ve=z.a.div(be||(be=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n\n  .img{\n    border-radius: 20px 20px 10px 20px;\n    border: 1px solid #ddd;\n  }\n"]))),fe=z.a.div(he||(he=Object(p.a)(["\nmax-width: 800px;\n\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function ge(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Oe,we,ye,Ae=function(e){var n=e.url,t=e.createdAt;return Object(_.jsx)(ve,{children:Object(_.jsx)(fe,{children:Object(_.jsx)(J.a,{placement:"left",title:ge(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)("img",{className:"img",src:n,alt:"GIF"})})})})},Se=t(36),Ne=t.n(Se),Fe=z.a.div(Oe||(Oe=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .image{\n    border-radius: 20px;\n    border: 1px solid #ddd;\n  }\n"]))),Re=z.a.div(we||(we=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),Ce=z.a.div(ye||(ye=Object(p.a)(["\n    max-width: 800px;\n    \n    min-width: 40px;\n    text-align: justify;\n"])));function Le(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Ue,ke,ze,Ie=function(e){var n=e.url,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(Fe,{children:[Object(_.jsx)(Re,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",src:t,children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)(Ce,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:Le(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)("img",{className:"image",src:n,alt:"GIF"})})})]})},De=z.a.div(Ue||(Ue=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .image{\n    border-radius: 10px 20px 20px 20px;\n    border: 1px solid #ddd;\n  }\n"]))),Me=z.a.div(ke||(ke=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),Ve=z.a.div(ze||(ze=Object(p.a)(["\n    max-width: 800px;\n    \n    min-width: 40px;\n    text-align: justify;\n"])));function Te(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Ee,Be,_e,Ge=function(e){var n=e.url,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(De,{children:[Object(_.jsx)(Me,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",src:t,children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)(Ve,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:Te(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)("img",{className:"image",src:n,alt:"GIF"})})})]})},Pe=z.a.div(Ee||(Ee=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .image{\n    border-radius: 10px 20px 20px 10px;\n    border: 1px solid #ddd;\n  }\n"]))),Ke=z.a.div(Be||(Be=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),We=z.a.div(_e||(_e=Object(p.a)(["\n    max-width: 800px;\n    \n    min-width: 40px;\n    text-align: justify;\n"])));function qe(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Ze,He,Ye,Xe=function(e){var n=e.url,t=(e.photoURL,e.displayName),i=e.createdAt;return Object(_.jsxs)(Pe,{children:[Object(_.jsx)(Ke,{children:Object(_.jsx)(J.a,{title:t,placement:"left",children:Object(_.jsx)(Ne.a,{size:"default",style:{backgroundColor:"#fff"}})})}),Object(_.jsx)(We,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:qe(null===i||void 0===i?void 0:i.seconds),children:Object(_.jsx)("img",{className:"image",src:n,alt:"GIF"})})})]})},Je=z.a.div(Ze||(Ze=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .image{\n    border-radius: 20px 20px 20px 10px;\n    border: 1px solid #ddd;\n  }\n"]))),Qe=z.a.div(He||(He=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),$e=z.a.div(Ye||(Ye=Object(p.a)(["\n    max-width: 800px;\n    \n    min-width: 40px;\n    text-align: justify;\n"])));function en(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var nn,tn,an=function(e){var n=e.url,t=(e.photoURL,e.displayName),i=e.createdAt;return Object(_.jsxs)(Je,{children:[Object(_.jsx)(Qe,{children:Object(_.jsx)(J.a,{title:t,placement:"left",children:Object(_.jsx)(Ne.a,{size:"default",style:{backgroundColor:"#fff"}})})}),Object(_.jsx)($e,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:en(null===i||void 0===i?void 0:i.seconds),children:Object(_.jsx)("img",{className:"image",src:n,alt:"GIF"})})})]})},on=t(520),rn=z.a.div(nn||(nn=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n"]))),cn=z.a.div(tn||(tn=Object(p.a)(["\nmax-width: 800px;\nbackground-color: #0099ff;\nborder: 1px solid #ddd;\nborder-radius: 40px 40px 40px 40px;\npadding: 3px 20px 5px 20px;\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function ln(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var dn,sn,un=function(e){var n=e.text,t=e.createdAt;return Object(_.jsx)(rn,{children:Object(_.jsx)(cn,{children:Object(_.jsx)(J.a,{placement:"left",title:ln(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})})},xn=z.a.div(dn||(dn=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n"]))),pn=z.a.div(sn||(sn=Object(p.a)(["\n    max-width: 800px;\n    background-color: #0099ff;\n    border: 1px solid #ddd;\n    border-radius: 40px 10px 40px 40px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n    margin-right : 15px\n"])));function jn(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var bn,hn,mn=function(e){var n=e.text,t=e.createdAt;return Object(_.jsx)(xn,{children:Object(_.jsx)(pn,{children:Object(_.jsx)(J.a,{placement:"left",title:jn(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})})},vn=z.a.div(bn||(bn=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n"]))),fn=z.a.div(hn||(hn=Object(p.a)(["\n    max-width: 800px;\n    background-color: #0099ff;\n    border: 1px solid #ddd;\n    border-radius: 40px 10px 10px 40px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n    margin-right : 15px\n"])));function gn(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var On,wn,yn=function(e){var n=e.text,t=e.createdAt;return Object(_.jsx)(vn,{children:Object(_.jsx)(fn,{children:Object(_.jsx)(J.a,{placement:"left",title:gn(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})})},An=z.a.div(On||(On=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 9px;\n  display: flex;\n  width: 99%;\n  justify-content:flex-end;\n  position: relative;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    overflow-y: visible;\n    color: #fff;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n\n  .ant-tooltip-inner{\n      magrin-left: -20px;\n  }\n\n  .ant-avatar{\n      margin: 1px;\n  }\n"]))),Sn=z.a.div(wn||(wn=Object(p.a)(["\nmax-width: 800px;\nbackground-color: #0099ff;\nborder: 1px solid #ddd;\nborder-radius: 40px 40px 10px 40px;\npadding: 3px 20px 5px 20px;\nmin-width: 40px;\ntext-align: justify;\nmargin-right: 15px;\n"])));function Nn(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Fn,Rn,Cn=function(e){var n=e.text,t=e.createdAt;return Object(_.jsx)(An,{children:Object(_.jsx)(Sn,{children:Object(_.jsx)(J.a,{placement:"left",title:Nn(null===t||void 0===t?void 0:t.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})})},Ln=t(515),Un=function(){return Object(_.jsxs)("svg",{t:"1625646209821",className:"icon",viewBox:"0 0 1027 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5566",width:"30",height:"30",children:[Object(_.jsx)("path",{d:"M400.695652 545.391304a2 2 0 1 0 89.043478 0 2 2 0 1 0-89.043478 0Z","p-id":"5567"}),Object(_.jsx)("path",{d:"M222.608696 545.391304a2 2 0 1 0 89.043478 0 2 2 0 1 0-89.043478 0Z","p-id":"5568"}),Object(_.jsx)("path",{d:"M581.008696 545.391304a2 2 0 1 0 89.043478 0 2 2 0 1 0-89.043478 0Z","p-id":"5569"}),Object(_.jsx)("path",{d:"M447.443478 115.756522C200.347826 115.756522 0 296.069565 0 518.678261c0 140.243478 80.13913 264.904348 200.347826 336.13913l0 162.504348 153.6-104.626087c28.93913 6.678261 60.104348 8.904348 91.269565 8.904348 247.095652 0 447.443478-180.313043 447.443478-402.921739S692.313043 115.756522 447.443478 115.756522zM447.443478 877.078261c-11.130435 0-22.26087 0-33.391304-2.226087 0 0-2.226087 0-2.226087 0l0 0c-22.26087-2.226087-42.295652-4.452174-62.330435-8.904348l0 0c0 0 0 0 0 0 0 0 0 0 0 0l-46.747826 33.391304c0 0 0 0 0 0l-53.426087 37.843478 0 0 0 0 0-55.652174 0-4.452174c0 0 0 0 0 0l0-48.973913c0 0 0 0 0 0 0 0 0 0 0 0l0 0c-15.582609-8.904348-31.165217-17.808696-44.521739-26.713043l0 0C200.347826 801.391304 200.347826 801.391304 198.121739 801.391304c-8.904348-6.678261-17.808696-13.356522-26.713043-22.26087-2.226087-2.226087-2.226087-2.226087-4.452174-4.452174-4.452174-2.226087-6.678261-6.678261-11.130435-11.130435-2.226087-2.226087-4.452174-4.452174-4.452174-4.452174-4.452174-4.452174-6.678261-6.678261-11.130435-11.130435-2.226087-2.226087-4.452174-4.452174-4.452174-6.678261-2.226087-4.452174-6.678261-6.678261-8.904348-11.130435-2.226087-2.226087-4.452174-4.452174-4.452174-6.678261-2.226087-4.452174-6.678261-6.678261-8.904348-11.130435-2.226087-2.226087-2.226087-4.452174-4.452174-6.678261-2.226087-4.452174-4.452174-6.678261-6.678261-11.130435-2.226087-2.226087-2.226087-4.452174-4.452174-6.678261-4.452174-6.678261-8.904348-13.356522-11.130435-20.034783-2.226087-2.226087-2.226087-6.678261-4.452174-8.904348-2.226087-2.226087-2.226087-6.678261-4.452174-8.904348-2.226087-4.452174-2.226087-6.678261-4.452174-11.130435C66.782609 636.66087 66.782609 634.434783 64.556522 629.982609c-2.226087-4.452174-2.226087-6.678261-4.452174-11.130435 0-2.226087-2.226087-6.678261-2.226087-8.904348-2.226087-4.452174-2.226087-8.904348-2.226087-13.356522 0-2.226087-2.226087-6.678261-2.226087-8.904348 0-4.452174-2.226087-8.904348-2.226087-13.356522 0-2.226087 0-6.678261-2.226087-8.904348 0-4.452174-2.226087-11.130435-2.226087-15.582609 0-2.226087 0-4.452174 0-6.678261 0-6.678261 0-15.582609 0-22.26087 0-198.121739 180.313043-358.4 400.695652-358.4 222.608696 0 400.695652 160.278261 400.695652 358.4C848.13913 716.8 667.826087 877.078261 447.443478 877.078261z","p-id":"5570"}),Object(_.jsx)("path",{d:"M901.565217 687.86087c77.913043-73.46087 124.66087-171.408696 124.66087-280.486957 0-222.608696-200.347826-402.921739-447.443478-402.921739-104.626087 0-200.347826 33.391304-276.034783 86.817391 42.295652-11.130435 89.043478-17.808696 135.791304-17.808696 44.521739-13.356522 91.269565-22.26087 140.243478-22.26087 222.608696 0 400.695652 160.278261 400.695652 358.4 0 62.330435-17.808696 122.434783-48.973913 173.634783C926.052174 616.626087 917.147826 654.469565 901.565217 687.86087z","p-id":"5571"})]})},kn=function(){return Object(_.jsx)("svg",{t:"1625676458960",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6895",width:"16",height:"16",children:Object(_.jsx)("path",{d:"M513.12 65.312c-247.552 0-448.224 200.672-448.224 448.192s200.672 448.192 448.224 448.192 448.224-200.672 448.224-448.224S760.672 65.28 513.12 65.28z m0 837.344c-214.912 0-389.12-174.208-389.12-389.12s174.208-389.12 389.12-389.12 389.12 174.208 389.12 389.12-174.208 389.12-389.12 389.12zM168.544 513.536c0 190.304 154.272 344.608 344.608 344.608s344.608-154.272 344.608-344.608c0-190.304-154.272-344.608-344.608-344.608S168.544 323.2 168.544 513.536z","p-id":"6896",fill:"#5ad539"})})},zn=function(){return Object(_.jsxs)("svg",{t:"1625677571208",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10142",width:"16",height:"16",children:[Object(_.jsx)("path",{d:"M284.444444 341.333333c0-65.422222 17.066667-128 45.511112-182.044444C209.066667 224.711111 126.577778 351.288889 126.577778 497.777778c0 211.911111 172.088889 384 384 384 146.488889 0 273.066667-82.488889 338.488889-201.955556-54.044444 28.444444-115.2 45.511111-182.044445 45.511111C456.533333 725.333333 284.444444 553.244444 284.444444 341.333333z m378.311112-184.888889h36.977777l-46.933333 46.933334c-4.266667 4.266667-5.688889 9.955556-2.844444 15.644444 2.844444 5.688889 7.111111 8.533333 12.8 8.533334h71.111111c8.533333 0 14.222222-5.688889 14.222222-14.222223s-5.688889-14.222222-14.222222-14.222222H696.888889l46.933333-46.933333c4.266667-4.266667 5.688889-9.955556 2.844445-15.644445-2.844444-5.688889-7.111111-8.533333-12.8-8.533333h-71.111111c-8.533333 0-14.222222 5.688889-14.222223 14.222222s7.111111 14.222222 14.222223 14.222222z m234.666666 265.955556h-93.866666l103.822222-103.822222c4.266667-4.266667 5.688889-9.955556 2.844444-15.644445-2.844444-5.688889-7.111111-8.533333-12.8-8.533333h-128c-8.533333 0-14.222222 5.688889-14.222222 14.222222s5.688889 14.222222 14.222222 14.222222h93.866667L759.466667 426.666667c-4.266667 4.266667-5.688889 9.955556-2.844445 15.644444 2.844444 5.688889 7.111111 8.533333 12.8 8.533333h128c8.533333 0 14.222222-5.688889 14.222222-14.222222s-7.111111-14.222222-14.222222-14.222222z","p-id":"10143",fill:"#1296db"}),Object(_.jsx)("path",{d:"M536.177778 401.066667h51.2L526.222222 462.222222c-4.266667 4.266667-5.688889 9.955556-2.844444 15.644445 2.844444 5.688889 7.111111 8.533333 12.8 8.533333h85.333333c8.533333 0 14.222222-5.688889 14.222222-14.222222s-5.688889-14.222222-14.222222-14.222222h-51.2l61.155556-61.155556c4.266667-4.266667 5.688889-9.955556 2.844444-15.644444-2.844444-5.688889-7.111111-8.533333-12.8-8.533334h-85.333333c-8.533333 0-14.222222 5.688889-14.222222 14.222222s7.111111 14.222222 14.222222 14.222223z","p-id":"10144",fill:"#1296db"})]})},In=function(){return Object(_.jsx)("svg",{t:"1626365580708",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5281",width:"16",height:"16",children:Object(_.jsx)("path",{d:"M731.733333 294.4L450.133333 631.466667l-134.4-134.4-53.333333 53.333333 194.133333 194.133333L789.333333 345.6l-57.6-51.2zM512 992C247.466667 992 32 776.533333 32 512S247.466667 32 512 32 992 247.466667 992 512 776.533333 992 512 992z","p-id":"5282",fill:"#bcc0c4"})})},Dn=function(){return Object(_.jsx)("svg",{t:"1626404481979",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2024",width:"15",height:"15",children:Object(_.jsx)("path",{d:"M512 298.666667c117.333333 0 213.333333 96 213.333333 213.333333s-96 213.333333-213.333333 213.333333-213.333333-96-213.333333-213.333333S394.666667 298.666667 512 298.666667z","p-id":"2025",fill:"#8a8a8a"})})},Mn=z.a.div(Fn||(Fn=Object(p.a)(["\n    float: right;\n    margin-top: -40px;\n    margin-right: -0px;\n\n    .ant-avatar-string{\n        line-height: 13px;\n    }\n\n\n"])));function Vn(){return Object(_.jsxs)(Mn,{children:[" ",Object(_.jsx)(J.a,{style:{fontSize:"10pt"},title:"\u0110\xe3 g\u1eedi",placement:"left",children:Object(_.jsx)(Ln.a,{component:In})})," "]})}var Tn,En,Bn,_n=z.a.div(Rn||(Rn=Object(p.a)(["\n    float: right;\n    margin-top: -29px;\n    margin-right: -0px;\n\n    .ant-avatar-string{\n        line-height: 13px;\n    }\n\n\n"])));function Gn(){return Object(_.jsxs)(_n,{children:[" ",Object(_.jsx)(J.a,{style:{fontSize:"10pt"},title:"\u0110\xe3 g\u1eedi",placement:"left",children:Object(_.jsx)(Ln.a,{component:In})})," "]})}var Pn=z.a.div(Tn||(Tn=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n"]))),Kn=z.a.div(En||(En=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),Wn=z.a.div(Bn||(Bn=Object(p.a)(["\n    max-width: 800px;\n    background-color: rgb(228 230 235);\n    border: 1px solid #ddd;\n    border-radius: 40px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n"])));function qn(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var Zn,Hn,Yn,Xn=function(e){var n=e.text,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(Pn,{children:[Object(_.jsx)(Kn,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",src:t,children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)(Wn,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:qn(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})]})},Jn=z.a.div(Zn||(Zn=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n"]))),Qn=z.a.div(Hn||(Hn=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),$n=z.a.div(Yn||(Yn=Object(p.a)(["\n    max-width: 800px;\n    background-color: rgb(228 230 235);\n    border: 1px solid #ddd;\n    border-radius: 10px 40px 40px 40px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n"])));function et(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var nt,tt,it,at=function(e){var n=e.text,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(Jn,{children:[Object(_.jsx)(Qn,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",src:t,children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)($n,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:et(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})]})},ot=z.a.div(nt||(nt=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n  .ant-avatar{\n      background: #fff;\n  }\n"]))),rt=z.a.div(tt||(tt=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),ct=z.a.div(it||(it=Object(p.a)(["\n    max-width: 800px;\n    background-color: rgb(228 230 235);\n    border: 1px solid #ddd;\n    border-radius: 10px 40px 40px 10px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n"])));function lt(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var dt,st,ut,xt=function(e){var n=e.text,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(ot,{children:[Object(_.jsx)(rt,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)(ct,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:lt(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})]})},pt=z.a.div(dt||(dt=Object(p.a)(["\n  margin-bottom: 3px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n  .ant-avatar{\n      background: #fff;\n  }\n"]))),jt=z.a.div(st||(st=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),bt=z.a.div(ut||(ut=Object(p.a)(["\n    max-width: 800px;\n    background-color: rgb(228 230 235);\n    border: 1px solid #ddd;\n    border-radius: 40px 40px 40px 10px;\n    padding: 3px 20px 5px 20px;\n    min-width: 40px;\n    text-align: justify;\n"])));function ht(e){var n="";return e&&(n=(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})).charAt(0).toUpperCase()+n.slice(1)),n}var mt,vt,ft,gt=function(e){var n=e.text,t=e.photoURL,i=e.displayName,a=e.createdAt;return Object(_.jsxs)(pt,{children:[Object(_.jsx)(jt,{children:Object(_.jsx)(J.a,{title:i,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",children:[t?"":i.charAt(0)," "]})})}),Object(_.jsx)(bt,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:ht(null===a||void 0===a?void 0:a.seconds),children:Object(_.jsx)(on.a.Text,{className:"content",children:n})})})]})};t(376);function Ot(){return Object(_.jsxs)("div",{className:"load-3",children:[Object(_.jsx)(Ln.a,{className:"line",component:Dn}),Object(_.jsx)(Ln.a,{className:"line",component:Dn}),Object(_.jsx)(Ln.a,{className:"line",component:Dn})]})}var wt=z.a.div(mt||(mt=Object(p.a)(["\n  margin-bottom: 17px;\n  margin-left: 5px;\n  display: flex;\n  width: 900px;\n  justify-content:flex-start;\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {  \n    overflow-y: visible;\n    color: #123;\n    max-width: 400px;\n    min-width: 20px;\n    word-wrap:break-word;\n    font-size: 15px;\n    text-align: justify;\n  }\n"]))),yt=z.a.div(vt||(vt=Object(p.a)(["\n  magrin: 5px;\n  padding-right: 15px;\n"]))),At=z.a.div(ft||(ft=Object(p.a)(["\n    max-width: 800px;\n    background-color: rgb(228 230 235);\n    border: 1px solid #ddd;\n    border-radius: 40px;\n    padding: 3px 15px 5px 15px;\n    min-width: 40px;\n    text-align: justify;\n"])));var St,Nt,Ft=function(e){var n=e.photoURL,t=e.displayName;return Object(_.jsxs)(wt,{children:[Object(_.jsx)(yt,{children:Object(_.jsx)(J.a,{title:t,placement:"left",children:Object(_.jsxs)(Ne.a,{size:"default",src:n,children:[n?"":t.charAt(0)," "]})})}),Object(_.jsx)(At,{children:Object(_.jsx)(J.a,{placement:"left",style:{marginLeft:"10px"},title:"",children:Object(_.jsx)(Ot,{})})})]})},Rt=t(530),Ct=t(516);function Lt(){var e=Object(i.useContext)(K),n=e.selectedRoom,t=e.selectedRoomId,a=e.setSelectedRoomId,o=Object(i.useContext)(G).user.uid,r=Object(i.useCallback)((function(){a(""),V.collection("rooms").doc(t).update({members:n.members.filter((function(e){return e!==o}))})}),[t,o]);return Object(_.jsx)(Ct.a,{placement:"left",title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi nh\xf3m ch\u1ee9 ?",onConfirm:r,okText:"C\xf3",cancelText:"Kh\xf4ng",children:Object(_.jsx)(A.a.Item,{icon:Object(_.jsx)(Rt.a,{}),children:"R\u1eddi kh\u1ecfi nh\xf3m"},"4")})}var Ut,kt,zt=z.a.span(St||(St=Object(p.a)(["\n    font-size: 13px;\n    width: 13px;\n    line-height: 13px;\n    height: 17px;\n    user-select: none;\n"]))),It=z.a.div(Nt||(Nt=Object(p.a)(["\n    float: right;\n    margin-top: -20px;\n\n    .ant-avatar-string{\n        line-height: 13px;\n    }\n\n\n"])));function Dt(e){var n="";return e&&(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})),n}function Mt(e){var n=e.users;return Object(_.jsxs)(It,{children:[" ",n.map((function(e){var n;return Object(_.jsx)(J.a,{style:{fontSize:"10pt"},title:e.displayName+" \u0111\xe3 xem "+Dt(null===e||void 0===e||null===(n=e.timeSeen)||void 0===n?void 0:n.seconds),placement:"left",children:Object(_.jsx)(Ne.a,{src:e.photoURL,style:{margin:"2px"},size:17,children:Object(_.jsx)(zt,{children:"A"})})},e.uid)}))," "]})}var Vt,Tt,Et,Bt,_t,Gt,Pt=z.a.span(Ut||(Ut=Object(p.a)(["\n    font-size: 13px;\n    width: 13px;\n    line-height: 13px;\n    height: 17px;\n    user-select: none;\n"]))),Kt=z.a.div(kt||(kt=Object(p.a)(["\n    float: right;\n    margin-top: -10px;\n\n    .ant-avatar-string{\n        line-height: 13px;\n    }\n\n\n"])));function Wt(e){var n="";return e&&(n=Object(Q.a)(new Date(1e3*e),new Date,{locale:$.a})),n}function qt(e){var n=e.users;return Object(_.jsxs)(Kt,{children:[" ",n.map((function(e){var n;return Object(_.jsx)(J.a,{style:{fontSize:"10pt"},title:e.displayName+" \u0111\xe3 xem "+Wt(null===e||void 0===e||null===(n=e.timeSeen)||void 0===n?void 0:n.seconds),placement:"left",children:Object(_.jsx)(Ne.a,{src:e.photoURL,style:{margin:"2px"},size:17,children:Object(_.jsx)(Pt,{children:"A"})})},e.uid)}))," "]})}var Zt=z.a.div(Vt||(Vt=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 16px;\n  align-items: center;\n  border-bottom: 1px solid rgb(230, 230, 230);\n  box-shadow: -3px 13px 6px -10px rgb(230 230 230);\n\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    &__title {\n      margin: 0;\n      font-weight: bold;\n    }\n\n    &__description {\n      font-size: 12px;\n    }\n  }\n\n  .load{\n    fontSize: '56px',\n    color: '#08c',\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n\n  .settingIcon{\n      font-size: '15px';\n  }\n"]))),Ht=z.a.div(Tt||(Tt=Object(p.a)(["\n  display: flex;\n  align-items: center;\n"]))),Yt=z.a.div(Et||(Et=Object(p.a)(["\n  height: 100vh;\n"]))),Xt=z.a.div(Bt||(Bt=Object(p.a)(["\n  height: calc(100% - 56px);\n  display: flex;\n  flex-direction: column;\n  padding: 11px 3px 11px 11px;\n  justify-content: flex-end;\n"]))),Jt=Object(z.a)(w.a)(_t||(_t=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid rgb(230, 230, 230);\n  border-radius: 2px;\n  margin-top: 10px;\n\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n"]))),Qt=z.a.div(Gt||(Gt=Object(p.a)(["\n  max-height: 100%;\n  overflow-y: auto;\n"])));var $t,ei,ni,ti=function(){var e=Object(R.useForm)(),n=Object(x.a)(e,1)[0],t=Object(i.useContext)(K),a=t.selectedRoom,o=t.selectedRoomId,r=t.setSelectedRoomId,c=t.setIsInviteMemberVisible,l=t.setIsShowMembersVisible,d=t.setIsEditRoomVisible,s=t.members,p=t.setIsShowGif,C=30,U=Object(i.useContext)(G).user,z=U.uid,I=U.displayName,D=U.photoURL,M=Object(i.useRef)(null),B=Object(i.useState)(!0),P=Object(x.a)(B,2),W=P[0],q=P[1],Z=Object(i.useRef)(null),Y=Object(i.useState)(""),X=Object(x.a)(Y,2),J=X[0],Q=X[1],$=Object(i.useMemo)((function(){return{fieldName:"roomId",operator:"==",compareValue:o}}),[o]),ee=E("messages",$);Object(i.useEffect)((function(){return q(!0),V.collection("messages").where("roomId","==",o).get().then((function(e){e.docs.map((function(e){e.data().userSeen.map((function(e){return e.uid})).includes(z)||V.collection("messages").doc(e.id).update({userSeen:[].concat(Object(u.a)(e.data().userSeen),[{uid:z,displayName:I,photoURL:D,timeSeen:new Date}])})}))}))}),[o]);var ne=T.firestore().doc("/users/"+z),te=Object(i.useMemo)((function(){return{status:"c",last_changed:T.firestore.FieldValue.serverTimestamp()}}),[]),ie=Object(i.useMemo)((function(){return{status:"a",last_changed:T.firestore.FieldValue.serverTimestamp()}}),[]),ae=Object(i.useMemo)((function(){return{status:"b",last_changed:T.firestore.FieldValue.serverTimestamp()}}),[]);Object(i.useEffect)((function(){return T.database().ref(".info/connected").on("value",(function(e){if(!1!==(null===e||void 0===e?void 0:e.val())||void 0===z){if(void 0===z&&"visible"===J)null===ne||void 0===ne||ne.update(te);else if(void 0!==z&&"hidden"!==J){var n;null===(n=T.database().ref("/status/"+z))||void 0===n||n.onDisconnect().update(te).then((function(){null===ne||void 0===ne||ne.update(ie)}))}}else null===ne||void 0===ne||ne.update(te)}))}),[]),window.addEventListener("unload",(function(){null===ne||void 0===ne||ne.update(te)}));var re=Object(i.useCallback)((function(){void 0===z?null===ne||void 0===ne||ne.update(te):"hidden"===document.visibilityState&&"hidden"!==J&&void 0!==z?(null===ne||void 0===ne||ne.update(ae),Q("hidden")):"visible"===document.visibilityState&&"visible"!==J&&void 0!==z&&(Q("visible"),null===ne||void 0===ne||ne.update(ie))}),[J]);Object(i.useEffect)((function(){return V.collection("messages").where("roomId","==",o).get().then((function(e){e.docs.map((function(e){e.data().userSeen.map((function(e){return e.uid})).includes(z)||"visible"!==document.visibilityState||V.collection("messages").doc(e.id).update({userSeen:[].concat(Object(u.a)(e.data().userSeen),[{uid:z,displayName:I,photoURL:D,timeSeen:new Date}])})}))}))}),[J]),Object(i.useEffect)((function(){document.addEventListener("visibilitychange",re,!1)}),[re]),Object(i.useEffect)((function(){Object(L.delay)((function(){q(!1)}),10,"")}),[ee]),Object(i.useEffect)((function(){var e=V.collection("notifys").doc(z).onSnapshot((function(n){var t,i,a=null===n||void 0===n||null===(t=n.data())||void 0===t?void 0:t.roomId;o&&void 0!==a&&"visible"===J&&(null===(i=V.collection("notifys"))||void 0===i||i.doc(z).update({roomId:Object(u.a)(Array.from(a).filter((function(e){return e!==o})))}));return e}));return e}),[o,J]),Object(i.useLayoutEffect)((function(){Z.current&&(Z.current.scrollTop=Z.current.scrollHeight)})),Object(i.useEffect)((function(){var e=V.collection("notifys").doc(z).onSnapshot((function(n){var t,i,a,o=null===n||void 0===n||null===(t=n.data())||void 0===t?void 0:t.roomId;"visible"!==document.visibilityState&&(null===(i=document.getElementsByClassName("audio")[0])||void 0===i||i.play(),document.title=0===o.length?"Fake Messenger":"("+o.length+") Fake Messenger");"visible"===document.onvisibilitychange&&(null===(a=document.getElementsByClassName("audio")[0])||void 0===a||a.play());return void 0!==o&&(document.title=0===o.length?"Fake Messenger":"("+o.length+") Fake Messenger"),e}));return e}),[]);var ce,le=function(){n.getFieldsValue().message.trim().length&&(H("messages",{text:n.getFieldsValue().message,image:"",uid:z,photoURL:D,displayName:I,roomId:o,userSeen:[{uid:z,displayName:I,photoURL:D,timeSeen:new Date}]}),null===s||void 0===s||s.filter((function(e){return e.uid!==z})).forEach((function(e){var n;null===(n=V.collection("notifys"))||void 0===n||n.doc(e.id).get().then((function(n){var t;null===(t=V.collection("notifys"))||void 0===t||t.doc(e.id).update({roomId:[].concat(Object(u.a)(n.data().roomId),[o]),createAt:T.firestore.FieldValue.serverTimestamp()})}))})),V.collection("rooms").doc(o).update({isTyping:Object(u.a)(a.isTyping.filter((function(e){return e.uid!==z})))}),n.setFieldsValue({message:""}),M.current.focus())},de=Object(i.useCallback)((function(e){""!==e.target.value&&V.collection("rooms").doc(o).update({isTyping:[].concat(Object(u.a)(a.isTyping.filter((function(e){return e.uid!==z}))),[{uid:z,displayName:I,photoURL:D}])}),ce&&clearTimeout(ce),ce=setTimeout((function(){V.collection("rooms").doc(o).update({isTyping:Object(u.a)(a.isTyping.filter((function(e){return e.uid===z})))})}),2e3)}),[o]);Object(i.useEffect)((function(){return V.collection("messages").where("roomId","==",o).get().then((function(e){e.docs.map((function(e){e.data().userSeen.map((function(e){return e.uid})).includes(z)||"visible"!==document.visibilityState||V.collection("messages").doc(e.id).update({userSeen:[].concat(Object(u.a)(e.data().userSeen),[{uid:z,displayName:I,photoURL:D,timeSeen:new Date}])})}))}))}),[ee]);var se=Object(i.useMemo)((function(){return Object(_.jsxs)(A.a,{children:[Object(_.jsx)(A.a.Item,{onClick:function(){return r("")},icon:Object(_.jsx)(b.a,{}),children:"Trang ch\u1ee7"},"3"),Object(_.jsx)(A.a.Item,{onClick:function(){return d(!0)},icon:Object(_.jsx)(h.a,{}),children:"\u0110\u1ed5i th\xf4ng tin nh\xf3m"},"1"),Object(_.jsx)(A.a.Item,{onClick:function(){return l(!0)},icon:Object(_.jsx)(m.a,{}),children:"Xem th\xe0nh vi\xean"},"4"),Object(_.jsx)(A.a.Item,{onClick:function(){return c(!0)},icon:Object(_.jsx)(v.a,{}),children:"Th\xeam b\u1ea1n b\xe8"},"2"),Object(_.jsx)(Lt,{})]})}),[l,c,r]),xe=Object(i.useState)([]),pe=Object(x.a)(xe,2),je=pe[0],be=pe[1];return Object(i.useEffect)((function(){var e=null;return o&&(e=V.collection("rooms").doc(o).onSnapshot((function(e){var n=e.data().isTyping;be(n)}))),e}),[o]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(k.a,{src:"mess.mp3",className:"audio"})," ",o?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Yt,{children:[Object(_.jsxs)(Zt,{children:[Object(_.jsxs)("div",{className:"header__info",children:[Object(_.jsx)("p",{className:"header__title",children:a?a.name:""}),Object(_.jsx)("span",{className:"header__description",children:a?a.description:""})]}),Object(_.jsx)(Ht,{children:Object(_.jsx)(F.a.Button,{style:{bordered:"none"},icon:Object(_.jsx)(O.a,{}),overlay:se})})]}),Object(_.jsxs)(Xt,{children:[" ",!0===W?Object(_.jsx)(j.a,{spin:!0,style:{fontSize:"56px",color:"#08c",position:"absolute",top:"45%",left:"50%"}}):Object(_.jsxs)(Qt,{className:"listMessage",ref:Z,children:[ee.map((function(e){var n,t,i,a,o,r,c,l,d,u,x,p,j,b,h,m,v,f,g,O,w,A,S,N,F,R,L,U,k,I,D,M,V,T,E,B,G,P,K,W,q,Z,H,Y,X,J,Q,$,ne,te,ie,ae,re,ce,le,de,se,xe,pe,je,be,he,ve,fe,ge,Oe,we,ye,Se,Ne,Fe,Re,Ce,Le,Ue,ke,ze,De,Me,Ve,Te,Ee,Be,_e,Pe,Ke;return(null===e||void 0===e?void 0:e.uid)===z?Object(_.jsxs)("div",{children:[1===ee.length||(null===(n=ee[e.index-1])||void 0===n?void 0:n.uid)!==z&&(null===(t=ee[e.index+1])||void 0===t?void 0:t.uid)!==z||(null===(i=ee[e.index-1])||void 0===i?void 0:i.uid)!==z&&(null===(a=ee[e.index+1])||void 0===a||null===(o=a.createAt)||void 0===o?void 0:o.seconds)-(null===e||void 0===e||null===(r=e.createAt)||void 0===r?void 0:r.seconds)>C||0===e.index&&(null===(c=ee[e.index+1])||void 0===c||null===(l=c.createAt)||void 0===l?void 0:l.seconds)-(null===e||void 0===e||null===(d=e.createAt)||void 0===d?void 0:d.seconds)>C||(null===e||void 0===e||null===(u=e.createAt)||void 0===u?void 0:u.seconds)-(null===(x=ee[e.index-1])||void 0===x||null===(p=x.createAt)||void 0===p?void 0:p.seconds)>C&&(null===(j=ee[e.index+1])||void 0===j||null===(b=j.createAt)||void 0===b?void 0:b.seconds)-(null===e||void 0===e||null===(h=e.createAt)||void 0===h?void 0:h.seconds)>C||e.index===ee.length-1&&(null===e||void 0===e||null===(m=e.createAt)||void 0===m?void 0:m.seconds)-(null===(v=ee[e.index-1])||void 0===v||null===(f=v.createAt)||void 0===f?void 0:f.seconds)>C?Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(oe,{photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt,url:e.image}):Object(_.jsx)(un,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),1===e.userSeen.length?Object(_.jsx)(Vn,{}):Object(_.jsxs)(_.Fragment,{children:[" ",e.id===ee[ee.length-1].id?Object(_.jsx)(Mt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(g=ee[e.index+1])||void 0===g?void 0:g.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(Mt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",0===e.index&&(null===(O=ee[e.index+1])||void 0===O||null===(w=O.createAt)||void 0===w?void 0:w.seconds)-(null===e||void 0===e||null===(A=e.createAt)||void 0===A?void 0:A.seconds)<C||e.index>0&&(null===(S=ee[e.index+1])||void 0===S?void 0:S.uid)===z&&(null===(N=ee[e.index+1])||void 0===N||null===(F=N.createAt)||void 0===F?void 0:F.seconds)-(null===e||void 0===e||null===(R=e.createAt)||void 0===R?void 0:R.seconds)<C&&(null===e||void 0===e||null===(L=e.createAt)||void 0===L?void 0:L.seconds)-(null===(U=ee[e.index-1])||void 0===U||null===(k=U.createAt)||void 0===k?void 0:k.seconds)>=C||z!==(null===(I=ee[e.index-1])||void 0===I?void 0:I.uid)&&(null===(D=ee[e.index+1])||void 0===D||null===(M=D.createAt)||void 0===M?void 0:M.seconds)-(null===e||void 0===e||null===(V=e.createAt)||void 0===V?void 0:V.seconds)<C?Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(Ae,{photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt,url:e.image}):Object(_.jsx)(Cn,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),1===e.userSeen.length?Object(_.jsx)(Gn,{}):Object(_.jsxs)(_.Fragment,{children:[" ",e.id===ee[ee.length-1].id?Object(_.jsx)(qt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(T=ee[e.index+1])||void 0===T?void 0:T.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(qt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",e.index>=1&&(null===(E=ee[e.index-1])||void 0===E?void 0:E.uid)===z&&(null===(B=ee[e.index+1])||void 0===B?void 0:B.uid)===z&&(null===e||void 0===e?void 0:e.id)!==(null===(G=ee[y.b.length-1])||void 0===G?void 0:G.id)&&(null===(P=ee[e.index+1])||void 0===P||null===(K=P.createAt)||void 0===K?void 0:K.seconds)-(null===e||void 0===e||null===(W=e.createAt)||void 0===W?void 0:W.seconds)<C&&(null===e||void 0===e||null===(q=e.createAt)||void 0===q?void 0:q.seconds)-(null===(Z=ee[e.index-1])||void 0===Z||null===(H=Z.createAt)||void 0===H?void 0:H.seconds)<C?Object(_.jsxs)(_.Fragment,{children:[0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(me,{photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt,url:e.image}):Object(_.jsx)(yn,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),1===e.userSeen.length?Object(_.jsx)(Gn,{}):Object(_.jsxs)(_.Fragment,{children:[" ",e.id===ee[ee.length-1].id?Object(_.jsx)(qt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(Y=ee[e.index+1])||void 0===Y?void 0:Y.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(qt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(ue,{photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt,url:e.image}):Object(_.jsx)(mn,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),1===e.userSeen.length?Object(_.jsx)(Vn,{}):Object(_.jsxs)(_.Fragment,{children:[" ",e.id===ee[ee.length-1].id?Object(_.jsx)(Mt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(X=ee[e.index+1])||void 0===X?void 0:X.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(Mt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]})," "]})," "]})," "]})," "]},e.id):Object(_.jsxs)("div",{children:[1===ee.length||(null===(J=ee[e.index-1])||void 0===J?void 0:J.uid)===z&&(null===(Q=ee[e.index+1])||void 0===Q?void 0:Q.uid)===z||0===e.index&&(null===($=ee[e.index+1])||void 0===$||null===(ne=$.createAt)||void 0===ne?void 0:ne.seconds)-(null===e||void 0===e||null===(te=e.createAt)||void 0===te?void 0:te.seconds)>C||(null===e||void 0===e||null===(ie=e.createAt)||void 0===ie?void 0:ie.seconds)-(null===(ae=ee[e.index-1])||void 0===ae||null===(re=ae.createAt)||void 0===re?void 0:re.seconds)>C&&(null===(ce=ee[e.index+1])||void 0===ce||null===(le=ce.createAt)||void 0===le?void 0:le.seconds)-(null===e||void 0===e||null===(de=e.createAt)||void 0===de?void 0:de.seconds)>C||e.index===ee.length-1&&(null===e||void 0===e||null===(se=e.createAt)||void 0===se?void 0:se.seconds)-(null===(xe=ee[e.index-1])||void 0===xe||null===(pe=xe.createAt)||void 0===pe?void 0:pe.seconds)>C?Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(Ie,{url:e.image,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}):Object(_.jsx)(Xn,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),e.id===ee[ee.length-1].id?Object(_.jsx)(Mt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(je=ee[e.index+1])||void 0===je?void 0:je.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(Mt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",0===e.index&&(null===(be=ee[e.index+1])||void 0===be||null===(he=be.createAt)||void 0===he?void 0:he.seconds)-(null===e||void 0===e||null===(ve=e.createAt)||void 0===ve?void 0:ve.seconds)<C||e.index>0&&(null===(fe=ee[e.index+1])||void 0===fe?void 0:fe.uid)!==z&&(null===(ge=ee[e.index+1])||void 0===ge||null===(Oe=ge.createAt)||void 0===Oe?void 0:Oe.seconds)-(null===e||void 0===e||null===(we=e.createAt)||void 0===we?void 0:we.seconds)<C&&(null===e||void 0===e||null===(ye=e.createAt)||void 0===ye?void 0:ye.seconds)-(null===(Se=ee[e.index-1])||void 0===Se||null===(Ne=Se.createAt)||void 0===Ne?void 0:Ne.seconds)>=C||z===(null===(Fe=ee[e.index-1])||void 0===Fe?void 0:Fe.uid)&&(null===(Re=ee[e.index+1])||void 0===Re||null===(Ce=Re.createAt)||void 0===Ce?void 0:Ce.seconds)-(null===e||void 0===e||null===(Le=e.createAt)||void 0===Le?void 0:Le.seconds)<C?Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(an,{url:e.image,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}):Object(_.jsx)(gt,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),e.id===ee[ee.length-1].id?Object(_.jsx)(qt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(Ue=ee[e.index+1])||void 0===Ue?void 0:Ue.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(qt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",e.index>=1&&(null===(ke=ee[e.index-1])||void 0===ke?void 0:ke.uid)!==z&&(null===(ze=ee[e.index+1])||void 0===ze?void 0:ze.uid)!==z&&(null===e||void 0===e?void 0:e.id)!==(null===(De=ee[y.b.length-1])||void 0===De?void 0:De.id)&&(null===(Me=ee[e.index+1])||void 0===Me||null===(Ve=Me.createAt)||void 0===Ve?void 0:Ve.seconds)-(null===e||void 0===e||null===(Te=e.createAt)||void 0===Te?void 0:Te.seconds)<C&&(null===e||void 0===e||null===(Ee=e.createAt)||void 0===Ee?void 0:Ee.seconds)-(null===(Be=ee[e.index-1])||void 0===Be||null===(_e=Be.createAt)||void 0===_e?void 0:_e.seconds)<C?Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(Xe,{url:e.image,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}):Object(_.jsx)(xt,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),e.id===ee[ee.length-1].id?Object(_.jsx)(qt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(Pe=ee[e.index+1])||void 0===Pe?void 0:Pe.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(qt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]}):Object(_.jsxs)(_.Fragment,{children:[" ",0===e.text.length&&(null===e||void 0===e?void 0:e.image.length)>0?Object(_.jsx)(Ge,{url:e.image,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}):Object(_.jsx)(at,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:null===e||void 0===e?void 0:e.createAt}),e.id===ee[ee.length-1].id?Object(_.jsx)(Mt,{users:null===e||void 0===e?void 0:e.userSeen.filter((function(e){return e.uid!==z}))}):Object(_.jsxs)(_.Fragment,{children:[" ",void 0!==(null===e||void 0===e?void 0:e.userSeen)&&void 0!==(null===(Ke=ee[e.index+1])||void 0===Ke?void 0:Ke.userSeen)?Object(_.jsx)(_.Fragment,{children:e.userSeen.length===s.length&&ee[e.index+1].userSeen.length<s.length?Object(_.jsx)(Mt,{users:s.filter((function(e){return e.uid!==z})).filter((function(n){var t;return!1===(null===(t=ee[e.index+1])||void 0===t?void 0:t.userSeen.map((function(e){return e.uid})).includes(n.uid))}))}):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(_.Fragment,{})," "]})," "]})," "]})," "]})," "]},e.id)}))," "]}),Object(_.jsxs)(_.Fragment,{children:[" ",null===je||void 0===je?void 0:je.filter((function(e){return e.uid!==z})).map((function(e){return Object(_.jsx)(Ft,{photoURL:e.photoURL,displayName:e.displayName},e.uid)}))," "]}),Object(_.jsxs)(Jt,{form:n,children:[Object(_.jsx)(w.a.Item,{name:"message",children:Object(_.jsx)(S.a,{ref:M,onChange:de,onPressEnter:le,placeholder:"Aa...",bordered:!1,autoComplete:"off",name:"message"})}),Object(_.jsx)(N.a,{style:{width:"40px",color:"blue",border:"none"},icon:Object(_.jsx)(f.a,{}),onClick:function(){return p(!0)}}),Object(_.jsx)(N.a,{style:{width:"40px",color:"blue"},icon:Object(_.jsx)(g.a,{className:"settingIcon"}),onClick:le})]})," "]})]})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("iframe",{style:{width:"100%",height:"100%",bordered:"none",border:"0"},src:"https://code-cung-duong.github.io/2048g/",title:"Ch\xe0o b\u1ea1n H\u01b0\u01a1ng Min nh\xe9 \ud83e\udd70\ud83e\udd70\ud83e\udd70"})})]})},ii=t(526),ai=ii.a.Panel,oi=Object(z.a)(ai)($t||($t=Object(p.a)(["\n  \n\n\n  &&& {\n    .ant-collapse-header\n    ,\n    p {\n      color: blue;\n      font-weight: 500;\n      user-select: none;\n    }\n\n    .ant-collapse-content-box {\n      padding: 0 10px;\n      max-height: 290px;\n      overflow-y: auto;\n    }\n    .ant-typography:hover {\n      textShadow: rgb(222 222 222) 0px 0px 7px;\n      background-color: #f1f1f1;\n      transition: color 0.2s;\n    }\n\n    .ant-typography{\n      color: #000;\n      font-weight: 400;\n      display: flex;\n      align-items: center;\n      font-weight: 500;\n    }\n\n    .add-room {\n      color: #456;\n      margin: 15px 0 10px 90px;\n      padding: 3px 8px 5px 8px;      \n      border: 1px solid #aaa;\n    }\n\n    .add-room:hover{\n      color: #fff;\n      background-color: #ccc;\n      border: 1px solid #bbb;\n      box-shadow: 1px 1px 8px 0px #bbb;\n    }\n\n    .tb{\n        float: right;\n        color: blue;\n        font-weight: 500;\n        position: absolute;\n        right: 5%;\n    }\n\n    .tenphong{\n        text-overflow: ellipsis;\n        max-width: 200px;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n\n \n  }\n"]))),ri=Object(z.a)(on.a.Link)(ei||(ei=Object(p.a)(["\n  display: block;\n  margin-bottom: -1px;\n  color: #ddd; \n  padding: 7px 10px 9px 10px;\n  border-radius: 5px;\n  \n"]))),ci=Object(z.a)(ii.a)(ni||(ni=Object(p.a)(["\n    border-bottom: 1px solid #ccc;\n    box-shadow: 0px 9px 7px -9px #ccc;\n\n"])));var li,di=function(){var e=Object(i.useContext)(K),n=e.rooms,t=e.setIsAddRoomVisible,a=e.setSelectedRoomId,o=e.selectedRoomId,r=Object(i.useContext)(G).user.uid,c=Object(i.useState)([]),l=Object(x.a)(c,2),d=l[0],s=l[1];return Object(i.useEffect)((function(){var e=V.collection("notifys").doc(r).onSnapshot((function(n){var t,i=null===(t=n.data())||void 0===t?void 0:t.roomId;return s(i),e}));return e}),[n,r]),Object(_.jsx)(ci,{defaultActiveKey:"0",ghost:!0,children:Object(_.jsxs)(oi,{header:"Nh\xf3m c\u1ee7a b\u1ea1n",children:[0!==n.length?Object(_.jsx)(_.Fragment,{children:n.map((function(e){return Object(_.jsxs)(ri,{onClick:function(){return a(e.id)},style:e.id===o?{textShadow:"rgb(222 222 222) 0px 0px 7px",backgroundColor:"#f1f1f1",transition:"all 0.2s",color:"#000"}:{},children:[Object(_.jsx)(Ln.a,{style:{margin:"5px 15px 0 0"},size:20,component:Un}),Object(_.jsx)("div",{className:"tenphong",children:e.name}),(null===d||void 0===d?void 0:d.includes(e.id))?Object(_.jsx)(Ne.a,{className:"tb",style:{color:"white",backgroundColor:"blue"},src:"",size:20,children:d.filter((function(n){return n===e.id})).length<10?"0"+d.filter((function(n){return n===e.id})).length:d.filter((function(n){return n===e.id})).length}):Object(_.jsx)(_.Fragment,{})]},e.id)}))}):Object(_.jsx)("p",{style:{color:"gray",margin:"10px 0px 7px 30px"},children:"B\u1ea1n ch\u01b0a tham gia nh\xf3m n\xe0o"}),Object(_.jsx)(N.a,{type:"text",className:"add-room",onClick:function(){return t(!0)},children:"T\u1ea1o nh\xf3m"}),Object(_.jsx)(k.a,{src:"mess.mp3",className:"audio"})]},"1")})},si=t(539),ui=t(527),xi=z.a.div(li||(li=Object(p.a)([" \ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 12px 16px;\nborder-bottom: 1px solid #ccc;\nbox-shadow: -4px -1px 9px 1px #ccc;\n\n.username {\n  margin-left: 10px;\n  font-size: 16pt;\n  font-weight: 700;\n}\n\n.logout:hover{\n    color: red;\n    border-radius: 50%;\n}\n\n.logout{\n    border-radius: 50%;\n}\n"])));var pi,ji,bi,hi,mi=function(){var e=Object(i.useContext)(G).user,n=e.displayName,t=e.photoURL,a=e.uid,o=Object(i.useContext)(K).clearState;if(void 0!==a)var r=T.firestore().doc("/users/"+a);var c={status:"c",last_changed:T.firestore.FieldValue.serverTimestamp()};return Object(_.jsxs)(xi,{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(J.a,{placement:"right",title:n,children:Object(_.jsx)(ui.a,{size:"large",src:t,children:t?"":null===n||void 0===n?void 0:n.charAt(0)})}),Object(_.jsx)(on.a.Text,{className:"username",children:"Chat"})]}),Object(_.jsx)(J.a,{title:"\u0110\u0103ng xu\u1ea5t",placement:"top",children:Object(_.jsx)(N.a,{className:"logout",icon:Object(_.jsx)(si.a,{}),style:{border:"none"},onClick:function(){M.signOut(),r.update(c),o()}})})]})},vi=t(524),fi=ii.a.Panel,gi=Object(z.a)(fi)(pi||(pi=Object(p.a)(["\n  \n  &&& {\n    .ant-collapse-header{\n        color: blue;\n        font-weight: 500;\n        user-select: none;\n    }\n    p {\n      font-weight: 500;\n      color: gray\n      \n    }\n\n    .ant-collapse-content-box {\n      padding: 0 30px;\n      max-height: 290px;\n      overflow-y: auto;\n    }\n\n    .add-room {\n      color: #123;\n      padding: 0;\n    }\n  }\n"]))),Oi=Object(z.a)(on.a.Link)(ji||(ji=Object(p.a)(["\n  display: block;\n  margin-bottom: 5px;\n  color: blue;\n  \n"]))),wi=z.a.div(bi||(bi=Object(p.a)(["\n    display: flex;\n    margin: 15px 10px 10px 0px;\n    position: relative;\n    .user{\n        color: #123;\n        margin-left: 10px;\n    }\n    .status{\n      color: blue;\n      position: absolute;\n      right: 8%;\n    }\n\n    .tb{\n        position:absolute;\n        top: 2px;\n        left: 105%;\n    }\n    .tb2{\n        float: right;\n        position: absolute;\n        right: -10%;\n        user-select: none;\n    }\n"]))),yi=Object(z.a)(ii.a)(hi||(hi=Object(p.a)(["\nborder-bottom: 1px solid #ccc;\nbox-shadow: 0px 9px 7px -9px #ccc;\n\n"])));var Ai,Si=function(){var e=Object(i.useContext)(G).user.uid,n=E("users","");function t(e){var n="";return e&&(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=Object(vi.a)(new Date(1e3*e),new Date,{addSuffix:!0,locale:$.a})).charAt(0).toUpperCase()+n.slice(1)).replace("minutes","ph\xfat")).replace("hours","gi\u1edd")).replace("ago","tr\u01b0\u1edbc")).replace("tr\u01b0\u1edbc","")).replace("day","ng\xe0y")).replace("hour","gi\u1edd")).replace("Kho\u1ea3ng","")).replace("D\u01b0\u1edbi","")),n}return Object(_.jsx)(yi,{defaultActiveKey:"1",ghost:!0,children:Object(_.jsxs)(gi,{header:"Danh s\xe1ch b\u1ea1n b\xe8",children:[Array.from(n).filter((function(n){return n.uid!==e})).map((function(e){return Object(_.jsxs)(wi,{children:[Object(_.jsx)(ui.a,{size:"small",src:e.photoURL,children:e.photoURL?"":e.displayName.charAt(0)}),Object(_.jsx)(Oi,{className:"user",children:e.displayName}),"a"===e.status?Object(_.jsx)(J.a,{title:"Online",placement:"right",children:Object(_.jsx)(Ln.a,{className:"tb",component:kn})}):Object(_.jsx)(_.Fragment,{}),"c"===e.status?Object(_.jsx)(J.a,{placement:"right",title:"Ho\u1ea1t \u0111\u1ed9ng "+t(e.last_changed.seconds)+" tr\u01b0\u1edbc",children:Object(_.jsx)("p",{className:"tb2",children:t(e.last_changed.seconds)})}):Object(_.jsx)(_.Fragment,{}),"b"===e.status?Object(_.jsx)(J.a,{title:"Sleep",placement:"right",children:Object(_.jsx)(Ln.a,{className:"tb",component:zn})}):Object(_.jsx)(_.Fragment,{})," "]},e.uid)}))," "]},"1")})},Ni=z.a.div(Ai||(Ai=Object(p.a)(["\n  background: #fff;\n  color: black;\n  height: 100vh;\n  border-right: 1px solid #ccc;\n  magrin: 20px\n"])));var Fi=function(){return Object(_.jsx)(Ni,{children:Object(_.jsx)(d.a,{children:Object(_.jsxs)(s.a,{span:"24",children:[Object(_.jsx)(mi,{}),Object(_.jsx)(di,{}),Object(_.jsx)(Si,{})]})})})};var Ri=function(){return Object(_.jsx)("div",{children:Object(_.jsxs)(d.a,{children:[Object(_.jsx)(s.a,{span:"5",children:Object(_.jsx)(Fi,{})}),Object(_.jsx)(s.a,{span:"19",children:Object(_.jsx)(ti,{})})]})})},Ci=t(59),Li=t.n(Ci),Ui=t(82),ki=t(540),zi=t(541),Ii=t(14),Di=on.a.Title,Mi=new Ii.default.auth.FacebookAuthProvider,Vi=new Ii.default.auth.GoogleAuthProvider;var Ti=function(){var e=function(){var e=Object(Ui.a)(Li.a.mark((function e(){var n,t,i,a;return Li.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("granted"!==Notification.permission){e.next=9;break}return e.next=3,M.signInWithPopup(Vi);case 3:n=e.sent,t=n.additionalUserInfo,i=n.user,t.isNewUser&&(Y("users",{displayName:i.displayName,email:i.email,photoURL:i.photoURL,uid:i.uid,providerId:t.providerId,keywords:X(null===(a=i.displayName)||void 0===a?void 0:a.toLowerCase()),status:"",last_changed:""}),Y("notifys",{roomId:[],uid:i.uid})),e.next=11;break;case 9:alert("Vui l\xf2ng cho ph\xe9p th\xf4ng b\xe1o"),Notification.requestPermission();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{children:Object(_.jsx)(d.a,{justify:"center",style:{height:800},children:Object(_.jsxs)(s.a,{span:10,children:[Object(_.jsx)(Di,{style:{textAlign:"center",margin:"30px"},level:2,children:"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 tham gia v\u1edbi ch\xfang t\xf4i"}),Object(_.jsx)(N.a,{icon:Object(_.jsx)(ki.a,{}),style:{width:"100%",fontSize:"16px",color:"red",height:"40px"},onClick:function(){return e()},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Google"}),Object(_.jsx)(N.a,{icon:Object(_.jsx)(zi.a,{}),style:{marginTop:"5px",width:"100%",fontSize:"16px",color:"blue",height:"40px"},onClick:function(){M.signInWithPopup(Mi)},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Facebook (beta)"})]})})})},Ei=t(102),Bi=t.n(Ei),_i=t(71),Gi=t.n(_i);function Pi(){var e=Object(R.useForm)(),n=Object(x.a)(e,1)[0],t=Object(i.useContext)(K),a=t.isAddRoomVisible,o=t.setIsAddRoomVisible,r=Object(i.useContext)(G).user.uid;return Object(_.jsx)("div",{children:Object(_.jsx)(Gi.a,{title:"T\u1ea1o nh\xf3m",visible:a,onOk:function(){var e,t;(null===(e=n.getFieldValue())||void 0===e?void 0:e.name)&&(null===(t=n.getFieldValue())||void 0===t?void 0:t.description)?(H("rooms",Object(I.a)(Object(I.a)({},n.getFieldsValue()),{},{members:[r],isTyping:[]})),n.resetFields(),o(!1)):y.b.info("B\u1ea1n c\u1ea7n nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin")},onCancel:function(){o(!1)},children:Object(_.jsxs)(C.a,{layout:"vertical",form:n,children:[Object(_.jsx)(Bi.a,{label:"T\xean nh\xf3m",name:"name",children:Object(_.jsx)(S.a,{autoFocus:"true",name:"name",placeholder:"Nh\u1eadp t\xean nh\xf3m",autoComplete:"off",rules:[{required:!0}]})}),Object(_.jsx)(Bi.a,{label:"M\xf4 t\u1ea3",name:"description",children:Object(_.jsx)(S.a,{name:"description",placeholder:"Nh\u1eadp m\xf4 t\u1ea3",autoComplete:"off",rules:[{required:!0}]})})]})})})}function Ki(){var e=Object(R.useForm)(),n=Object(x.a)(e,1)[0],t=Object(i.useContext)(K),a=t.isEditRoomVisible,o=t.setIsEditRoomVisible,r=t.selectedRoom,c=t.selectedRoomId;n.setFieldsValue({name:r.name,description:r.description});return Object(_.jsx)("div",{children:Object(_.jsx)(Gi.a,{title:"S\u1eeda th\xf4ng tin nh\xf3m",visible:a,onOk:function(){var e,t;(null===(e=n.getFieldValue())||void 0===e?void 0:e.name)&&(null===(t=n.getFieldValue())||void 0===t?void 0:t.description)?(V.collection("rooms").doc(c).update({name:n.getFieldValue("name"),description:n.getFieldValue("description")}),n.resetFields(),o(!1)):y.b.info("B\u1ea1n c\u1ea7n nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin")},onCancel:function(){o(!1)},okText:"L\u01b0u l\u1ea1i",children:Object(_.jsxs)(C.a,{layout:"vertical",form:n,children:[Object(_.jsx)(Bi.a,{label:"T\xean nh\xf3m",name:"name",children:Object(_.jsx)(S.a,{autoFocus:"true",name:"name",placeholder:"Nh\u1eadp t\xean nh\xf3m",autoComplete:"off",rules:[{required:!0,message:"Please input your Username!"}]})}),Object(_.jsx)(Bi.a,{label:"M\xf4 t\u1ea3",name:"description",children:Object(_.jsx)(S.a,{name:"description",placeholder:"Nh\u1eadp m\xf4 t\u1ea3",autoComplete:"off",rules:[{required:!0}]})})]})})})}var Wi=t(16),qi=t(523),Zi=t(277),Hi=t.n(Zi),Yi=["fetchOptions","debounceTimeout","curMembers"];function Xi(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?300:t,r=e.curMembers,c=Object(Wi.a)(e,Yi),l=Object(i.useState)(!1),d=Object(x.a)(l,2),s=d[0],u=d[1],p=Object(i.useState)([]),j=Object(x.a)(p,2),b=j[0],h=j[1],m=a.a.useMemo((function(){return Hi()((function(e){h([]),u(!0),n(e,r).then((function(e){h(e),u(!1)}))}),o)}),[o,n,r]);return a.a.useEffect((function(){return function(){h([])}}),[]),Object(_.jsxs)(qi.a,Object(I.a)(Object(I.a)({labelInValue:!0,filterOption:!1,onSearch:m,notFoundContent:s?Object(_.jsx)(B.a,{size:"small"}):Object(_.jsx)("p",{style:{marginTop:"10px",color:"#345"},children:"Nh\u1eadp * \u0111\u1ec3 hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3 ... "})},c),{},{children:[" ",b.map((function(e){var n,t;return Object(_.jsxs)(qi.a.Option,{value:e.value,title:e.label,children:[Object(_.jsxs)(Ne.a,{size:"small",src:e.photoURL,children:[" ",e.photoURL?"":null===(n=e.label)||void 0===n||null===(t=n.charAt(0))||void 0===t?void 0:t.toUpperCase()," "]})," ".concat(e.label)," "]},e.value)}))," "]}))}function Ji(e,n){return Qi.apply(this,arguments)}function Qi(){return(Qi=Object(Ui.a)(Li.a.mark((function e(n,t){return Li.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V.collection("users").where("keywords","array-contains",null===n||void 0===n?void 0:n.toLowerCase()).orderBy("displayName").limit(20).get().then((function(e){return e.docs.map((function(e){return{label:e.data().displayName,value:e.data().uid,photoURL:e.data().photoURL}})).filter((function(e){return!t.includes(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(){var e=Object(i.useContext)(K),n=e.isInviteMemberVisible,t=e.setIsInviteMemberVisible,a=e.selectedRoomId,o=e.selectedRoom,r=Object(i.useState)([]),c=Object(x.a)(r,2),l=c[0],d=c[1],s=w.a.useForm(),p=Object(x.a)(s,1)[0];return Object(_.jsx)("div",{children:Object(_.jsx)(Gi.a,{title:"M\u1eddi th\xeam b\u1ea1n b\xe8",visible:n,onOk:function(){p.resetFields(),d([]),V.collection("rooms").doc(a).update({members:[].concat(Object(u.a)(o.members),Object(u.a)(l.map((function(e){return e.value}))))});var e=l.length;0!==e&&y.b.success("\u0110\xe3 th\xeam "+e+" th\xe0nh vi\xean"),t(!1)},onCancel:function(){p.resetFields(),d([]),t(!1)},destroyOnClose:!0,children:Object(_.jsxs)(w.a,{form:p,layout:"vertical",children:[Object(_.jsx)("p",{children:"Nh\u1eadp h\u1ecd t\xean"}),Object(_.jsx)(Xi,{mode:"multiple",name:"search-user",label:"T\xean c\xe1c th\xe0nh vi\xean",value:l,placeholder:"Aa ...",fetchOptions:Ji,onChange:function(e){return d(e)},style:{width:"100%"},curMembers:o.members})]})})})}var ea,na,ta=t(177),ia=Object(z.a)(on.a.Text)(ea||(ea=Object(p.a)(["\n  display: block;\n  margin-bottom: 5px;\n  color: blue;\n"]))),aa=z.a.div(na||(na=Object(p.a)(["\n    display: flex;\n    margin: 15px 10px 10px 0px;\n    align-item: center;\n    .user{\n        color: #123;\n        margin: 7px 15px 9px 15px;\n        font-weight: 500;\n    }\n    .status{\n      color: #123;\n      position: absolute;\n      right: 8%;\n    }\n    p{\n        margin-top:6px;\n    }\n\n    .baChamIcon{\n        font-size:'15pt';\n        margin-top:'3px';\n    }\n"])));function oa(){var e=Object(i.useContext)(K),n=e.members,t=e.setIsShowMembersVisible,a=e.isShowMembersVisible,o=Object(i.useContext)(G).user.uid,r=function(){t(!1)};return Object(_.jsxs)(Gi.a,{title:"Danh s\xe1ch th\xe0nh vi\xean ("+Array.from(n).length+")",visible:a,onCancel:r,onOk:r,okButtonProps:{style:{display:"none"}},children:[Array.from(n).map((function(e){return Object(_.jsxs)(aa,{children:[Object(_.jsx)(Ne.a,{size:"large",src:e.photoURL,children:e.photoURL?"":e.displayName.charAt(0)}),Object(_.jsx)(ia,{className:"user",children:o===e.uid?"B\u1ea1n":e.displayName}),Object(_.jsx)(N.a,{style:{borderRadius:"50%",float:"right",position:"absolute",left:"85%",marginTop:"2px"},icon:Object(_.jsx)(ta.a,{className:"baChamIcon"})})," "]},e.uid)}))," "]})}var ra=t(92),ca=t(279),la=t(280);function da(){var e=Object(i.useContext)(K),n=e.isShowGif,t=e.setIsShowGif,a=Object(i.useContext)(K),o=a.selectedRoomId,r=a.members,c=Object(R.useForm)(),l=Object(x.a)(c,1)[0],d=Object(i.useContext)(G).user,s=d.uid,p=d.displayName,j=d.photoURL,b=new ca.GiphyFetch("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh"),h=Object(i.useState)(""),m=Object(x.a)(h,2),v=m[0],f=m[1],g=Object(i.useState)(!1),O=Object(x.a)(g,2),w=O[0],y=O[1],A=Object(i.useState)(),N=Object(x.a)(A,2),F=N[0],L=N[1];Object(i.useEffect)((function(){b.trending({limit:100}).then((function(e){return e.data})).then((function(e){L(e),y(!1)}))}),[]);var U=function(e){H("messages",{text:"",image:e.target.currentSrc,uid:s,photoURL:j,displayName:p,roomId:o,userSeen:[{uid:s,displayName:p,photoURL:j,timeSeen:new Date}]}),null===r||void 0===r||r.filter((function(e){return e.uid!==s})).forEach((function(e){var n;null===(n=V.collection("notifys"))||void 0===n||n.doc(e.id).get().then((function(n){var t;null===(t=V.collection("notifys"))||void 0===t||t.doc(e.id).update({roomId:[].concat(Object(u.a)(n.data().roomId),[o]),createAt:T.firestore.FieldValue.serverTimestamp()})}))})),t(!1)};return Object(_.jsx)("div",{children:Object(_.jsxs)(Gi.a,{afterClose:function(){t(!1),f("")},bodyStyle:{backgroundColor:"#1890ff47"},closable:!1,footer:null,closeIcon:Object(_.jsx)(_.Fragment,{}),visible:n,width:800,onCancel:function(){t(!1),f(""),l.setFieldsValue({kw:""})},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},style:{top:"2%"},children:[Object(_.jsxs)(C.a,{form:l,style:{padding:"0px",margin:"0px"},children:[Object(_.jsx)(Bi.a,{name:"kw",children:Object(_.jsx)(S.a,{name:"kw",style:{marginBottom:"-20px",marginTop:"-10px",width:"90%"},placeholder:"Nh\u1eadp t\u1eeb kh\xf3a",onChange:function(e){""!==e.target.value&&f(e.target.value)}})}),Object(_.jsx)(la.Button,{style:{position:"absolute",top:"24px",right:"27px"},onClick:function(){y(!0),(""===v?b.trending({limit:100}).then((function(e){return e.data})):b.search(v,{limit:100}).then((function(e){return e.data}))).then((function(e){L(e),y(!1)}))},children:"Search"})]}),w?Object(_.jsx)(ra.a,{style:{fontSize:"56px",color:"#08c",position:"absolute",top:"45%",left:"50%"}}):Object(_.jsxs)("div",{style:{display:"flex",width:"750px",flexWrap:"wrap",justifyContent:"space-evenly",overflow:"auto",backgroundColor:"rgb(242 247 250)",boxShadow:"0px 1px 10px #1e1616",borderRadius:"10px",height:"69vh"},children:[null===F||void 0===F?void 0:F.map((function(e){return Object(_.jsx)("img",{className:"anh",onClick:U,style:{borderRadius:"10px",margin:"1px",cursor:"pointer",marginTop:"5px"},src:e.images.fixed_height.url,alt:"",width:e.images.fixed_height.width},e.url)}))," "]})," "]})})}var sa=function(){return Object(_.jsx)(c.a,{children:Object(_.jsx)(P,{children:Object(_.jsxs)(Z,{children:[Object(_.jsxs)(l.c,{children:[Object(_.jsx)(l.a,{path:"/login",children:Object(_.jsx)(Ti,{})}),Object(_.jsx)(l.a,{path:"/",children:Object(_.jsx)(Ri,{})})]}),Object(_.jsx)(Pi,{}),Object(_.jsx)($i,{}),Object(_.jsx)(oa,{}),Object(_.jsx)(Ki,{}),Object(_.jsx)(da,{})]})})})};t(509);r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(sa,{})}),document.getElementById("root"))}},[[510,1,2]]]);
//# sourceMappingURL=main.bb2ecb8b.chunk.js.map